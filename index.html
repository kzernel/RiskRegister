<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Risk Register</title>

  <!-- Firebase compat SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Your custom styles -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Project Risk Register</h1>

  <!-- 1) Auth UI (shown when NOT signed in) -->
  <div id="auth-container">
    <input type="email"    id="email"    placeholder="Email" />
    <input type="password" id="password" placeholder="Password" />
    <button id="signUpBtn">Sign Up</button>
    <button id="signInBtn">Sign In</button>
  </div>

  <!-- 2) App UI (hidden until signed in) -->
  <div id="app-container" style="display:none;">
    <button id="signOutBtn">Sign Out</button>

    <!-- Add a new risk -->
    <form id="riskForm">
      <input type="text"  id="title"       placeholder="Risk Title"       required>
      <input type="text"  id="description" placeholder="Risk Description" required>
      <label>Probability: <input type="number" id="probability" min="1" max="5" required></label>
      <label>Impact:      <input type="number" id="impact"      min="1" max="5" required></label>
      <button type="submit">Add Risk</button>
    </form>

    <!-- Clear & Export -->
    <button id="clearRisks">Clear All Risks</button>
    <button id="exportCSV">Export to CSV</button>

    <!-- 5√ó5 Risk Matrix Scatter Plot -->
    <div class="chart-container">
      <canvas id="riskMatrix"></canvas>
    </div>

    <!-- Column‚Äêspecific and text filters -->
    <div id="column-filters" style="margin:20px 0; display:flex; gap:12px; flex-wrap:wrap; align-items:center;">
      <!-- Text search -->
      <label>
        üîç Search:
        <input type="text" id="filterInput" placeholder="Type to filter risks‚Ä¶" />
      </label>

      <!-- Severity -->
      <label>
        üö¶ Severity:
        <select id="severityFilter">
          <option value="">All</option>
          <option value="low">Low</option>
          <option value="medium">Medium</option>
          <option value="high">High</option>
        </select>
      </label>

      <!-- Probability -->
      <label>
        üé≤ Probability:
        <select id="probFilter">
          <option value="">All</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </label>

      <!-- Impact -->
      <label>
        üí• Impact:
        <select id="impactFilter">
          <option value="">All</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </label>
    </div>

    <!-- Risk Table -->
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Probability</th>
            <th>Impact</th>
            <th>Score</th>
          </tr>
        </thead>
        <tbody id="riskTable"></tbody>
      </table>
    </div>
  </div>

  <!-- Your script (multi-user, filters, chart) -->
  <script src="script.js"></script>
</body>
</html>
